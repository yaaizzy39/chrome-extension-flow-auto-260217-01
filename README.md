# Flow Auto Clicker

Google Labs Flowのページで画像生成からダウンロードまでを自動化するChrome拡張機能です。
外部ツール（OpenClawなど）からURLパラメータを通じてプロンプトを渡し、自動的に画像を生成・ダウンロードさせることができます。

## 機能

- **自動実行**: URLパラメータで指定されたプロンプトを使って自動的に画像生成フローを開始します。
- **全自動フロー**:
  1. 「新しいプロジェクト」をクリック
  2. 「画像」モードを選択
  3. プロンプトを入力して「作成」をクリック
  4. 生成完了を検知して「ダウンロード」をクリック
  5. 処理完了後、自動的にタブを閉じる
- **自動ログイン補助**:
  - ログアウト状態の場合、「Flow で作成」ボタンを自動的にクリックしてログイン画面へ遷移します。
  - Googleアカウント選択画面が表示された場合、リストの最初のアカウントを自動的に選択します（パスワード入力が必要な場合は手動）。
- **モデル自動選択**:
  - 画像生成時に、モデル設定を開き「Nano Banana Pro」を自動的に選択します。
- **ダウンロードオプション自動選択**:
  - ダウンロード時に解像度選択メニュー（1K, 2K...）が表示される場合、「1K」を自動的に選択してダウンロードします。
- **誤爆防止**: パラメータなしでサイトを開いた場合は自動実行されません。

## インストール方法

1. このリポジトリをクローンまたはダウンロードし、フォルダを展開します。
2. Chromeブラウザを開き、アドレスバーに `chrome://extensions/` と入力します。
3. 右上の「デベロッパー モード」を **オン** にします。
4. 左上の「パッケージ化されていない拡張機能を読み込む」ボタンをクリックします。
5. 展開したフォルダ（`h:\yaa\programming\Antigravity\chrome-extension-flow-auto-260216-01`）を選択します。

## 使い方

この拡張機能は、URLに `prompt` パラメータが含まれている場合のみ動作します。

### 実行用URLの形式
```
https://labs.google/fx/ja/tools/flow?prompt=ここに生成したいプロンプト
```

### コマンドラインからの実行例
```bash
chrome.exe "https://labs.google/fx/ja/tools/flow?prompt=宇宙を飛ぶ猫"
```
※ `chrome.exe` へのパスが通っている必要があります。

### OpenClaw等の外部ツールからの利用
OpenClaw等のエージェントから利用する場合は、「ブラウザで指定のURLを開く」アクションを実行させるだけでOKです。
既存のChromeウィンドウで新しいタブとして開かれた場合でも、正常に動作します。

## トラブルシューティング

- **自動実行されない**: URLに `?prompt=...` が正しく付いているか確認してください。
- **ダウンロードされない**: ページの読み込みや生成に時間がかかりすぎてタイムアウト（120秒）している可能性があります。
